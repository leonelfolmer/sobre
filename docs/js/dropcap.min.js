!function(){"use strict";function l(e){var t=e.ownerDocument.createElement("span");return t.textContent=n,e&&e.appendChild(t),t}function w(e,t){var n=s[t];if(n)return n;n={baselineRatio:void 0,capHeightRatio:void 0};var i=function(e){var t=e.createElement("div");return t.style.position="fixed",t.style.padding=S,t.style.opacity="0",t.style.fontSize=p,t.style.lineHeight="1",e.body.appendChild(t),t}(e);i.style.fontFamily=t;var a=l(i);a.style.fontSize=S;var o=l(i);n.baselineRatio=a.offsetTop/r;try{n.capHeightRatio=function(e,t,n,i){function a(e,t){var n=4*t,i=e.data[n],a=e.data[1+n],o=e.data[2+n];return 0===i||0===a||0===o}var o=-1,l=document.createElement("canvas");l.width=n,l.height=i,e.appendChild(l);var r=l.getContext("2d");r.font=p+" "+t,r.fillStyle="#ffffff",r.fillRect(0,0,r.canvas.width,r.canvas.height),r.fillStyle="#000000",r.textBaseline="top",r.fillText("E",0,0);for(var s=r.getImageData(Math.ceil(l.width/2),0,1,l.height),c=null,f=l.height-1;0<=f;f--)if(a(s,f)){c=f;break}for(f=0;f<l.height;f++)if(a(s,f)){o=(c+1-f)/i;break}return o}(i,t,o.offsetWidth,r)}catch(e){throw new Error("[dropcap.js] Error computing font metrics: "+e.message)}finally{!function(e){e.ownerDocument.body.removeChild(e)}(i)}return s[t]=n}function H(e){return e+"px"}function i(e,t,n){if(n||(n=t),1!=n||1!=t){var i=e.ownerDocument,a=e,o=a.parentNode,l=window.getComputedStyle(a),r=window.getComputedStyle(o),s=w(i,l.fontFamily),c=w(i,r.fontFamily),f=s.capHeightRatio,p=function(e){var t=parseFloat(e.fontSize),n="normal"===e.lineHeight?b*t:parseFloat(e.lineHeight);return{leading:n-t,lineHeight:n,fontSize:t}}(r),d=(c.baselineRatio-c.capHeightRatio)*p.fontSize,h=t*p.lineHeight-p.leading-d-(1-c.baselineRatio)*p.fontSize,g=h/f;a.dcapjs=!0,a.style.cssFloat="left",a.style.padding=S,a.style.fontSize=H(g),a.style.lineHeight=S;var y=p.leading/2+d;if(y-=(t-n)*p.lineHeight,a.style.marginTop=H(y),n<t){var u=parseFloat(r.marginTop);o.style.marginTop=H(u+-1*y)}var v=0;!function(e){return-1!=="gjpqQ".indexOf(e.textContent)}(a)?function(e){return!!e.classList.contains(x)||void 0}(a)&&(v=g-h):v=g*(1-s.baselineRatio),a.style.height=H(h+v);var m=a.dcapjsStrut;m||((m=i.createElement("span")).style.display="inline-block",a.appendChild(m),a.dcapjsStrut=m),m.style.height=H(h)}else!function(e){e.dcapjs&&(e.style.cssFloat="",e.style.padding="",e.style.fontSize="",e.style.lineHeight="",e.style.marginTop="")}(e)}var n="X",r=100,p=r+"px",S="0px",b=1.15,s={},x="dcjs-descender";window.Dropcap={layout:function(e,t,n){if(t<1||n&&n<1)throw new RangeError("Dropcap.layout expects the baseline position and height to be 1 or above");if(e instanceof HTMLElement)i(e,t,n);else{if(!(e instanceof NodeList))throw new TypeError("Dropcap.layout expects a single HTMLElement or a NodeList");Array.prototype.forEach.call(e,function(e){i(e,t,n)})}}}}();